---
sidebar_position: 1
description: "本文详细介绍了网络策略的定义以及使用方式"
---
# 网络策略

本文详细介绍了网络策略的定义以及使用方式。

## 概述

默认情况下，每个数仓服务单元都允许所有 IP 地址进行访问。然而，出于安全考虑，你可能希望将对你的数仓服务单元的访问限制在特定的 IP 地址，或者阻止某些 IP 地址的访问。在这种情况下，你可以使用网络策略。

网络策略由一个允许列表和一个可选的阻止列表组成。Relyt 为允许列表提供了默认值 `0.0.0.0/0`，表示允许所有 IPv4 地址。

**示例 1：**

```json
允许的 IP 地址：192.168.1.1，192.168.1.2
```

此示例表示，只允许从 `192.168.1.1` 和 `192.168.1.2` 访问特定的数仓服务单元。

**示例 2：**

```json
允许的 IP 地址：192.168.1.1，192.168.0.0/24
阻止的 IP 地址：192.168.0.3
```

此示例表示，只允许从 `192.168.1.1` 和 `192.168.0.0` 到 `192.168.0.255` 范围内的任何 IP 地址访问特定的数仓服务单元，`192.168.0.3` 是例外。

## 使用注意事项

在使用网络策略之前，请注意以下几点：

- 目前，允许列表或阻止列表只能由 IPv4 地址或无类别域间路由（CIDR）块组成。

- 只有数仓服务单元的所有者才能为服务单元创建网络策略。

- 每个数仓服务单元最多可以创建 128 个网络策略，同时只能有 1 个网络策略处于激活状态。

## 创建网络策略

在 Relyt 控制台上，你可以在创建数仓服务单元时或对现有服务单元创建网络策略。以下步骤详细说明了如何为现有的数仓服务单元创建网络策略。

:::info
关于如何在创建数仓服务单元时创建网络策略的详细信息，请参见 [数仓服务单元](guides/dw-service-units/manage-dw-service-units.md#创建数仓服务单元) 中的“创建数仓服务单元”。
:::

<br/>

1. 登录 Relyt 控制台。
2. 找到目标数仓服务单元的信息卡片，并在右上角选择 **...** > **网络策略**。
3. 在显示的 **网络策略** 页面上，点击 **+ 网络策略**。
4. 在 **创建网络策略** 页面，配置下表所述的参数。

    | 参数 | 必填 | 描述 |
    | :- | :- | :- |
    | 策略名称 | 是 | 网络策略的名称。该值的长度可以是 4 到 32 个字符，只能由字母、数字和下划线（_）组成。 |
    | IP 白名单 | 是 | 网络策略的允许列表。该值可以是有效的 IPv4 地址、CIDR 块，或者它们的逗号分隔列表。默认值是 **0.0.0.0/0**。 |
    | IP 黑名单 | 否 | 网络策略的阻止列表。该值可以是有效的 IPv4 地址、CIDR。 |