# 技术优势

Relyt 从第一天起就完全基于公有云，天生就拥有了存储和计算资源可以无限扩展的能力，从而能够很好的应对大数据时代、生成式 AI 时代数据的爆发式增长以及用户规模的增长，并利用规模效应，降低用户的每单位资源的成本。此外，作为一款数据云服务，Relyt 的所有能力都以服务的形式提供，使得用户能够专注于业务本身，无需投入额外的精力到系统软硬件的管理和运维上。

Relyt 的优势当然不止于此。从未停止过技术创新与探索的 Relyt，在架构、引擎、安全、生态等方面持续迭代与演进。

![](/images/introduction/highlights-overview.png)


## 架构的先进性

Relyt 采用存算分离的架构，实现了计算、元数据、存储的完全解耦，计算资源、存储资源与元数据池化管理，计算完全无状态，让 Relyt 在极致弹性、极致性价比、极致可靠性的基础上再迈进一步，实现极高的资源利用率和高性价比的极致混合负载，总体达到 10 倍 TCO 的节省。

![](/images/introduction/highlights-architecture.png)


### 低成本

**按需付费、无资源浪费**

Relyt 在架构上实现了存储与计算的完全解耦，使得存储资源和计算资源可以分别按需进行扩缩。底层存储采用性价比极佳的云数据存储，在保证成本优势的同时，保证了近乎无限的扩展能力。上层计算资源集群（即 DPS 集群）支持按需部署、按需启停、按需变配，按需付费。DPS 集群提供的性能随着 DPS 集群的计算资源增加而线性增加，具有良好的性能可预测性。在实际使用中，用户只需根据工作负载大小部署相应规格的 DPS 集群，而无需担心底层存储容量。

![](/images/introduction/highlights-costs.png)

此外，您可以手动暂停空闲 DPS 集群或通过策略实现空闲 DPS 集群自动暂停。暂停中的 DPS 集群不会产生费用。当接收到新的查询后，暂停中的 DPS 集群可以在毫秒级恢复响应，从而在保证了查询处理性能的同时实现了成本最小化。


### 高性能

**算子级性能优化**

Relyt 通过不断的产品创新，开发出了在数据操作的算子级别（计算引擎中用于计算的最小单位）提高云资源的计算密度和利用率的优化方法，实现了算子级别的计算资源的调度优化。在此基础上，Relyt 持续不断进行更为深入的工程优化以提高计算性能，在向量化查询执行、基于数据特征的算法、基于操作系统内存布局的数据访问等方面都取得了令人欣喜的结果。

到目前为止，Relyt 已经使用 TPC-H 完成了一系列算子性能相关的测试，Relyt 算子在与 Trino 和 Spark 的对比方面具有明显优势，许多 Relyt 算子在性能上足以媲美 ClickHouse 的同类服务，甚至更为优秀。除 SQL 算子外，Relyt 在考虑计算特征的同时，还不断对其他类型的算子进行性能优化，包括数据加解密、压缩和解压缩。这些技术的采用使得 Relyt 能够以极低的单位价格提供先进且全面的数据处理功能，总拥有成本 (TCO) 仅为其他主流数据平台的 10% 甚至更低。

![](/images/introduction/highlights-optimization.png)


**工作负载隔离与并行支持**

Relyt 的 DPS 集群在设计上就直接保证了隔离性：Relyt 支持在多地域中按需部署多个 DPS 集群来处理不同的工作负载，实现了工作负载之间的隔离，避免了资源争用，从而确保每个工作负载都能得到有效、稳定的计算资源，提高了数据处理的效率和稳定性。

在此基础上，Relyt 的计算资源池化能力，使得 DPS 集群数量可以无限扩展，不论并行度如何增加，Relyt 都能够保证毫秒级的响应速度。这为处理大规模数据，应对复杂的计算任务提供了强而有力的保障。

### 一份数据

得益于自身所使用的 SHARED-DATA 架构，Relyt 完美解决了分布式系统中存在的数据一致性问题，并确保即使是在系统扩容导致的数据迁移和重新分配过程中，服务也能顺畅运行且系统性能稳定。这使得 Relyt 全局可以只保留一份数据，保证所有业务使用的数据均源自同一事实来源。

该能力不仅可以保证数据质量，提高决策效率，也便于数据的共享和协作。同时，全局只保留一份数据也大大简化了数据管理的复杂性，降低了数据管理成本。

### 跑不死

![](/images/introduction/highlights-success.png)

**灵活的弹性计算**

DPS 集群不仅支持按需部署、按需变配、自动启停，赋予了 Relyt 卓越的计算弹性能力。这一能力使得 Relyt 在处理大规模数据时表现出强大的优势。 DPS 集群之间可以各自独立处理一份数据，相互之间不会产生干扰，这样即使其中一个 DPS 集群出现故障，也不会影响其他的数据处理任务，保证了 99.9% 以上 的查询成功率。

此外，“数仓服务单元 + DPS 集群”的配合设计，实现了数据和计算资源之间的隔离。这意味着根据工作负载的需求，Relyt 可以动态调整计算资源的分配，以优化系统性能和提高计算效率。这种弹性计算能力，使得 Relyt 能够在处理高并发的情况下，依然能够保持高效的运行，进一步保证了系统的稳定性与可靠性。

**AQS：自适应查询扩展**

此外， Relyt 在 DPS 集群上开发了自适应查询扩展 AQS（Adaptive Query Scaling）功能。该功能可以在 DPS 集群运行的过程中，识别出会影响 DPS 集群性能或稳定性的大查询，并将这些大查询调度至共享资源池中进行处理，在不损失任何 DPS 现有集群的稳定性和性能的前提下，保证了大查询成功运行。此外，AQS 还支持配置最大 AQS 使用限额，用于限制 AQS 可以从共享资源池中调用的最大的计算资源量，帮助用户更好的管理非业务预期大查询的预算，避免意外账单。AQS 的应用让 DPS 集群在不变配的情况下，可以轻松应对业务高峰，查询成功率高达 99.9%。


## 领先的引擎

![](/images/introduction/highlights-engine.png)


### 向量化引擎

Relyt 自研引擎 Vector DPS (Data Processing Service) 是基于 SIMD 指令集的向量化引擎，支持对文本、图像、音频、视频等常见非结构化数据的高效处理和分析。通过对 Aggregate、JOIN 等算子进行了向量化改造以及使用经过 SIMD 指令集优化的 CPU 指令，不仅简化了数据处理还能充分利用 CPU 的并行计算能力，提供了 8 倍于普通计算引擎的性能。

此外，DPS 支持本地 JOIN，把 JOIN 操作在一个计算节点里完成，无需进行跨网络传输和序列化，不仅提高了数据一致性、计算性能，还减少了网络负载。

动态过滤剪枝 DFP (Dynamic Filter Pruning) 功能的支持，帮助在查询过程中，动态地对不需要的数据完成了裁剪，使得系统只需要处理和结果相关的数据，避免了对无关数据的计算和处理，从而极大地减少了计算量，显著地提高了计算效率和性能。

### 基于代价的优化器

Relyt 内部通过使用一个基于代价的优化器 (Cost-Based Optimizer, CBO) 来帮助系统找到最有效、最经济的执行计划。CBO 可以自动根据数据的特点和计算资源的分布，进行代价预估，选择代价最低的编排计算的执行顺序和过程，从而保证最低的时间和空间复杂度。相较于基于规则的优化器 (Rule-Based Optimizer, RBO)，CBO 非常适合于处理复杂查询和大数据的场景。

### 面向高吞吐的存储

为了满足高吞吐存储的需求，Relyt 在产品设计上进行了许多大胆且行之有效的尝。例如，Relyt 支持 Sort Key 裁剪功能，显著减少了系统的 I/O 操作，最高可降低 99%。此外，Relyt 采用先进的行列混存技术，同时适用于单列查询和多列查询，进一步减少了不必要的数据 I/O。在行列混存基础上，Relyt 支持众多压缩算法和编码方式，能够根据数据特征自适应选择对应的算法进行压缩和编码，保证了 I/O 的高效率。


## 数据安全

![](/images/introduction/highlights-security.png)

Relyt 采用多种技术来确保用户数据的安全性以及合规性：

**云数据存储与 Bucket 安全隔离**：Relyt 数据持久化存储在云平台的对象存储中，保证 12 个 9 的数据安全性。Relyt 严格遵循用户维度隔离的模式，保障用户间数据存储和访问的安全隔离。

**表级加密**：用于加密传输中的数据和存储的数据。

**数据库 ACL**：在数据仓库使用层面，全兼容 PostgreSQL 协议的数据库访问控制机制，支持行、列级别的数据授权。

**应用访问认证 Token**：数据仓库的用户可以为不同渠道的应用配置不同的应用访问认证 Token，避免数据库账号“满天飞”，不同认证 Token 渠道的连接监控，也给业务的运维、管理或者下线操作更强的安全保障。

![](/images/introduction/highlights-token.png)

凭借这些企业级安全保障和合规性，企业可以放心使用 Relyt。


## 生态兼容且易用

### 兼容 PostgreSQL 生态

PostgreSQL 拥有着强大的社区和生态，提供丰富且全面的 SQL 功能和扩展。与 MySQL 相比，PostgreSQL 更擅长于数据分析和复杂查询。此外，作为开源生态，与 PostgreSQL 兼容的工作负载不存在厂商锁定等问题，具有广泛的社区自由度。 

Relyt 完全兼容 PostgreSQL，继承了 PostgreSQL 的所有优点，并在此基础上进行了深度的开发，在不损失安全性和开放性的基础上，提供了以协作为导向的、人人可用的数据云平台。

### 支持 ACID 事务

作为一个混合工作负载处理平台，Relyt 支持 ACID 事务。保证了在事务处理过程中数据的一致性、可靠性、持久性，以及不同事务之间的隔离性。从而大大提升了 Relyt 的可靠性、稳定性和效率。

### 开箱即用的全球数据云基础设施

Relyt 为组织提供开箱即用的全球数据云基础设施。用户可以根据自己的数据分布情况，选择不同地域，创建不同的数仓服务单元。这些数仓服务单元可以根据需求进行互联。这种高度集成的架构有助于 Relyt 利用其无缝数据交换和迁移功能，使企业能够随时随地访问所需数据。此外，Relyt 支持单点登录 (SSO)，这使得企业可以将其系统与现有的轻量级目录访问协议（LDAP）或第三方认证服务集成。用户仅需几次点击即可完成所有以上操作，开始使用自己的全球数据云基础设施。